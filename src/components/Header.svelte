<script>    
    import { fly, slide } from 'svelte/transition';
    import { expoOut } from 'svelte/easing';
    import tabs from '../stores/tabs.js';


    let showMenu = false;
</script>



<!-- mobile -->

<div class="md:hidden">
    {#if showMenu}
        <div  in:slide={{duration:500,delay:100, easing: expoOut}} out:slide={{duration:500}} class="z-[100] shadow-md  left-1/2 -translate-x-1/2 bottom-6hem fixed font-roboto text-[1.5em] bg-white rounded-[1.5em] w-[13em] p-0hem py-[0.9em]">
            {#each $tabs.all as tab, i}
                <button type="button" on:click={()=> $tabs.active = i} class="w-full p-1em py-[0.7em] capitalize flex items-center justify-between">
                    {tab.name}
                    <div class:activeMenuSelection={$tabs.active == i} class="menuDot w-[0.3em] aspect-square rounded-full bg-[#b1b1b1]"></div>
                </button>
            {/each}
        </div>
    {/if}
    
    
    <button class:showMenu={showMenu} on:click={()=>showMenu = !showMenu}  class="z-[100] shadow-md transition-[width] ease-[cubic-bezier(.03,1.49,.5,1)] duration-700 flex justify-between items-center  left-1/2 -translate-x-1/2 bottom-2em fixed font-roboto text-[1.5em] bg-white rounded-full  w-[9em] p-0hem" type="button" >
        <div class="menuArrow transition-[transform] duration-500 w-2hem rounded-full bg-[black] aspect-square p-[0.9em]">
            <svg viewBox="0 0 22 14" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M1.5 12L11 2.5L20.5 12" stroke="#fff" stroke-width="3"/>
            </svg>
        </div>
        {#key $tabs.active}
            <p in:slide class="flex-grow text-center capitalize" >
                {$tabs.all[$tabs.active].name}
            </p>
        {/key}
    </button>
</div>


<!-- pc -->

<div class="menuAnim hidden md:flex z-[100] shadow-md group w-[12em] hover:w-[38em] overflow-hidden text-[1em]  gap-1em transition-[width] ease-[cubic-bezier(0, 1.02, 0.3, 0.98)] duration-700 justify-start items-center  left-1/2 -translate-x-1/2 bottom-2em fixed font-roboto  bg-white rounded-full p-0hem pr-2em" >
    <div class="flex-shrink-0 rotate-90 w-2hem rounded-full bg-[black] aspect-square p-[0.9em]">
        <svg viewBox="0 0 22 14" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M1.5 12L11 2.5L20.5 12" stroke="#fff" stroke-width="3"/>
        </svg>
    </div>
    <p class="absolute transition-opacity w-[12em] text-center  duration-300  whitespace-nowrap group-hover:opacity-0 group-hover:pointer-events-none  capitalize">{$tabs.all[$tabs.active].name}</p>
    {#each $tabs.all as tab, i}
        <button type="button" on:click={()=> $tabs.active = i} class="whitespace-nowrap  group-hover:opacity-100 group-hover:pointer-events-auto  opacity-0 pointer-events-none transition-[opacity,width] duration-300  text-center capitalize px-[0.8em]" >
            {tab.name}
        </button>
    {/each}

</div>


<!-- top line -->

<div class=" z-[100] fixed w-[90%] py-2em left-1/2 -translate-x-1/2 flex items-center justify-between ">

    <div class="mainLogoParts text-[0.8em] md:text-[0.7em] lg:text-[0.5em] flex items-center gap-1hem">
        <div class="h-[3em]">
            <svg  class="fill-white" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M21.5238 13.9032C20.9497 13.4519 20.6725 12.7302 20.6725 12V12V12C20.6725 11.2732 20.9423 10.5469 21.5159 10.1005L23.1225 8.85C23.3475 8.675 23.41 8.3375 23.2725 8.0875L20.8725 3.9375C20.7225 3.6625 20.41 3.575 20.135 3.6625L18.2295 4.42791C17.5584 4.69747 16.8077 4.57968 16.1841 4.21344V4.21344C15.553 3.8428 15.0593 3.24173 14.9566 2.51707L14.6725 0.5125C14.6225 0.2125 14.3725 0 14.0725 0L9.2725 0C8.9725 0 8.735 0.2125 8.685 0.5125L8.40117 2.51509C8.29829 3.24098 7.7984 3.84694 7.16683 4.21924V4.21924C6.54472 4.58596 5.80025 4.69791 5.13014 4.42875L3.2225 3.6625C2.9475 3.5625 2.635 3.6625 2.485 3.9375L0.0975004 8.0875C-0.0524996 8.35 -0.0024997 8.675 0.2475 8.85L1.85248 10.0992C2.42705 10.5464 2.6725 11.2719 2.6725 12V12V12C2.6725 12.7268 2.40269 13.4531 1.82917 13.8995L0.2225 15.15C-0.00249967 15.325 -0.0649995 15.6625 0.0725005 15.9125L2.4725 20.0625C2.6225 20.3375 2.935 20.425 3.21 20.3375L5.11554 19.5721C5.78664 19.3025 6.53726 19.4203 7.16088 19.7866V19.7866C7.792 20.1572 8.28568 20.7583 8.38839 21.4829L8.6725 23.4875C8.735 23.7875 8.9725 24 9.2725 24L14.0725 24C14.3725 24 14.6225 23.7875 14.66 23.4875L14.945 21.4766C15.0472 20.7558 15.5419 20.1568 16.1706 19.7899V19.7899C16.798 19.4238 17.5493 19.3039 18.2233 19.5747L20.1225 20.3375C20.3975 20.4375 20.71 20.3375 20.86 20.0625L23.26 15.9125C23.41 15.6375 23.3475 15.325 23.11 15.15L21.5238 13.9032ZM11.6725 16.5C9.1975 16.5 7.1725 14.475 7.1725 12C7.1725 9.525 9.1975 7.5 11.6725 7.5C14.1475 7.5 16.1725 9.525 16.1725 12C16.1725 14.475 14.1475 16.5 11.6725 16.5Z" />
            </svg>
        </div>
        <div class="h-[2.5em]">
            <svg  class="fill-white" viewBox="0 0 116 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M0.925 19V0.374998H7.7C8.95 0.374998 10.05 0.608332 11 1.075C11.95 1.525 12.6917 2.19167 13.225 3.075C13.775 3.94167 14.05 4.98333 14.05 6.2C14.05 7.48333 13.725 8.58333 13.075 9.5C12.4417 10.4167 11.5833 11.0833 10.5 11.5L14.8 19H11.45L6.875 10.875L8.8 12H3.875V19H0.925ZM3.875 9.375H7.75C8.43333 9.375 9.025 9.24167 9.525 8.975C10.025 8.70833 10.4083 8.34167 10.675 7.875C10.9583 7.39167 11.1 6.825 11.1 6.175C11.1 5.525 10.9583 4.96667 10.675 4.5C10.4083 4.01667 10.025 3.65 9.525 3.4C9.025 3.13333 8.43333 3 7.75 3H3.875V9.375ZM22.6006 19.3C21.2506 19.3 20.0506 18.9917 19.0006 18.375C17.9673 17.7417 17.1589 16.8917 16.5756 15.825C15.9923 14.7417 15.7006 13.5333 15.7006 12.2C15.7006 10.8333 15.9923 9.625 16.5756 8.575C17.1756 7.525 17.9756 6.7 18.9756 6.1C19.9756 5.48333 21.1089 5.175 22.3756 5.175C23.3923 5.175 24.3006 5.35 25.1006 5.7C25.9006 6.05 26.5756 6.53333 27.1256 7.15C27.6756 7.75 28.0923 8.44167 28.3756 9.225C28.6756 10.0083 28.8256 10.8417 28.8256 11.725C28.8256 11.9417 28.8173 12.1667 28.8006 12.4C28.7839 12.6333 28.7506 12.85 28.7006 13.05H17.9256V10.8H27.1006L25.7506 11.825C25.9173 11.0083 25.8589 10.2833 25.5756 9.65C25.3089 9 24.8923 8.49167 24.3256 8.125C23.7756 7.74167 23.1256 7.55 22.3756 7.55C21.6256 7.55 20.9589 7.74167 20.3756 8.125C19.7923 8.49167 19.3423 9.025 19.0256 9.725C18.7089 10.4083 18.5839 11.2417 18.6506 12.225C18.5673 13.1417 18.6923 13.9417 19.0256 14.625C19.3756 15.3083 19.8589 15.8417 20.4756 16.225C21.1089 16.6083 21.8256 16.8 22.6256 16.8C23.4423 16.8 24.1339 16.6167 24.7006 16.25C25.2839 15.8833 25.7423 15.4083 26.0756 14.825L28.3756 15.95C28.1089 16.5833 27.6923 17.1583 27.1256 17.675C26.5756 18.175 25.9089 18.575 25.1256 18.875C24.3589 19.1583 23.5173 19.3 22.6006 19.3ZM36.5826 19.3C35.1993 19.3 33.9826 18.9583 32.9326 18.275C31.8993 17.5917 31.1743 16.675 30.7576 15.525L32.9326 14.5C33.2993 15.2667 33.7993 15.875 34.4326 16.325C35.0826 16.775 35.7993 17 36.5826 17C37.2493 17 37.791 16.85 38.2076 16.55C38.6243 16.25 38.8326 15.8417 38.8326 15.325C38.8326 14.9917 38.741 14.725 38.5576 14.525C38.3743 14.3083 38.141 14.1333 37.8576 14C37.591 13.8667 37.316 13.7667 37.0326 13.7L34.9076 13.1C33.741 12.7667 32.866 12.2667 32.2826 11.6C31.716 10.9167 31.4326 10.125 31.4326 9.225C31.4326 8.40833 31.641 7.7 32.0576 7.1C32.4743 6.48333 33.0493 6.00833 33.7826 5.675C34.516 5.34167 35.341 5.175 36.2576 5.175C37.491 5.175 38.591 5.48333 39.5576 6.1C40.5243 6.7 41.2076 7.54167 41.6076 8.625L39.4326 9.65C39.166 9 38.741 8.48333 38.1576 8.1C37.591 7.71667 36.9493 7.525 36.2326 7.525C35.616 7.525 35.1243 7.675 34.7576 7.975C34.391 8.25833 34.2076 8.63333 34.2076 9.1C34.2076 9.41667 34.291 9.68333 34.4576 9.9C34.6243 10.1 34.841 10.2667 35.1076 10.4C35.3743 10.5167 35.6493 10.6167 35.9326 10.7L38.1326 11.35C39.2493 11.6667 40.1076 12.1667 40.7076 12.85C41.3076 13.5167 41.6076 14.3167 41.6076 15.25C41.6076 16.05 41.391 16.7583 40.9576 17.375C40.541 17.975 39.9576 18.45 39.2076 18.8C38.4576 19.1333 37.5826 19.3 36.5826 19.3ZM44.3756 19V5.475H47.2006V19H44.3756ZM44.3756 3.625V0.374998H47.2006V3.625H44.3756ZM56.7535 19.3C55.4535 19.3 54.2868 18.9917 53.2535 18.375C52.2368 17.7417 51.4285 16.8917 50.8285 15.825C50.2452 14.7583 49.9535 13.5583 49.9535 12.225C49.9535 10.8917 50.2535 9.69167 50.8535 8.625C51.4535 7.55833 52.2618 6.71667 53.2785 6.1C54.2952 5.48333 55.4452 5.175 56.7285 5.175C57.8118 5.175 58.7702 5.39167 59.6035 5.825C60.4368 6.25833 61.0952 6.85833 61.5785 7.625L61.1535 8.275V0.0749993H63.9535V19H61.2785V16.25L61.6035 16.775C61.1368 17.5917 60.4702 18.2167 59.6035 18.65C58.7368 19.0833 57.7868 19.3 56.7535 19.3ZM57.0285 16.675C57.8118 16.675 58.5118 16.4833 59.1285 16.1C59.7618 15.7167 60.2535 15.1917 60.6035 14.525C60.9702 13.8417 61.1535 13.075 61.1535 12.225C61.1535 11.375 60.9702 10.6167 60.6035 9.95C60.2535 9.28333 59.7618 8.75833 59.1285 8.375C58.5118 7.99167 57.8118 7.8 57.0285 7.8C56.2452 7.8 55.5368 7.99167 54.9035 8.375C54.2702 8.75833 53.7785 9.28333 53.4285 9.95C53.0785 10.6167 52.9035 11.375 52.9035 12.225C52.9035 13.075 53.0785 13.8417 53.4285 14.525C53.7785 15.1917 54.2618 15.7167 54.8785 16.1C55.5118 16.4833 56.2285 16.675 57.0285 16.675ZM73.6016 19.3C72.2516 19.3 71.0516 18.9917 70.0016 18.375C68.9682 17.7417 68.1599 16.8917 67.5766 15.825C66.9932 14.7417 66.7016 13.5333 66.7016 12.2C66.7016 10.8333 66.9932 9.625 67.5766 8.575C68.1766 7.525 68.9766 6.7 69.9766 6.1C70.9766 5.48333 72.1099 5.175 73.3766 5.175C74.3932 5.175 75.3016 5.35 76.1016 5.7C76.9016 6.05 77.5766 6.53333 78.1266 7.15C78.6766 7.75 79.0932 8.44167 79.3766 9.225C79.6766 10.0083 79.8266 10.8417 79.8266 11.725C79.8266 11.9417 79.8182 12.1667 79.8016 12.4C79.7849 12.6333 79.7516 12.85 79.7016 13.05H68.9266V10.8H78.1016L76.7516 11.825C76.9182 11.0083 76.8599 10.2833 76.5766 9.65C76.3099 9 75.8932 8.49167 75.3266 8.125C74.7766 7.74167 74.1266 7.55 73.3766 7.55C72.6266 7.55 71.9599 7.74167 71.3766 8.125C70.7932 8.49167 70.3432 9.025 70.0266 9.725C69.7099 10.4083 69.5849 11.2417 69.6516 12.225C69.5682 13.1417 69.6932 13.9417 70.0266 14.625C70.3766 15.3083 70.8599 15.8417 71.4766 16.225C72.1099 16.6083 72.8266 16.8 73.6266 16.8C74.4432 16.8 75.1349 16.6167 75.7016 16.25C76.2849 15.8833 76.7432 15.4083 77.0766 14.825L79.3766 15.95C79.1099 16.5833 78.6932 17.1583 78.1266 17.675C77.5766 18.175 76.9099 18.575 76.1266 18.875C75.3599 19.1583 74.5182 19.3 73.6016 19.3ZM91.5336 19.3C90.2169 19.3 88.9919 19.0583 87.8586 18.575C86.7419 18.0917 85.7669 17.425 84.9336 16.575C84.1169 15.7083 83.4753 14.6917 83.0086 13.525C82.5419 12.3583 82.3086 11.075 82.3086 9.675C82.3086 8.29167 82.5336 7.01667 82.9836 5.85C83.4503 4.66667 84.1003 3.65 84.9336 2.8C85.7669 1.93333 86.7419 1.26667 87.8586 0.799999C88.9753 0.316666 90.2003 0.0749993 91.5336 0.0749993C92.8503 0.0749993 94.0253 0.299999 95.0586 0.75C96.1086 1.2 96.9919 1.79167 97.7086 2.525C98.4253 3.24167 98.9419 4.025 99.2586 4.875L96.6086 6.125C96.2086 5.125 95.5669 4.31667 94.6836 3.7C93.8169 3.06667 92.7669 2.75 91.5336 2.75C90.3003 2.75 89.2086 3.04167 88.2586 3.625C87.3086 4.20833 86.5669 5.01667 86.0336 6.05C85.5169 7.08333 85.2586 8.29167 85.2586 9.675C85.2586 11.0583 85.5169 12.275 86.0336 13.325C86.5669 14.3583 87.3086 15.1667 88.2586 15.75C89.2086 16.3167 90.3003 16.6 91.5336 16.6C92.7669 16.6 93.8169 16.2917 94.6836 15.675C95.5669 15.0583 96.2086 14.25 96.6086 13.25L99.2586 14.5C98.9419 15.3333 98.4253 16.1167 97.7086 16.85C96.9919 17.5833 96.1086 18.175 95.0586 18.625C94.0253 19.075 92.8503 19.3 91.5336 19.3ZM108.298 19.3C106.998 19.3 105.806 18.9917 104.723 18.375C103.656 17.7583 102.806 16.9167 102.173 15.85C101.54 14.7833 101.223 13.575 101.223 12.225C101.223 10.8583 101.54 9.65 102.173 8.6C102.806 7.53333 103.656 6.7 104.723 6.1C105.79 5.48333 106.981 5.175 108.298 5.175C109.631 5.175 110.823 5.48333 111.873 6.1C112.94 6.7 113.781 7.53333 114.398 8.6C115.031 9.65 115.348 10.8583 115.348 12.225C115.348 13.5917 115.031 14.8083 114.398 15.875C113.765 16.9417 112.915 17.7833 111.848 18.4C110.781 19 109.598 19.3 108.298 19.3ZM108.298 16.675C109.098 16.675 109.806 16.4833 110.423 16.1C111.04 15.7167 111.523 15.1917 111.873 14.525C112.24 13.8417 112.423 13.075 112.423 12.225C112.423 11.375 112.24 10.6167 111.873 9.95C111.523 9.28333 111.04 8.75833 110.423 8.375C109.806 7.99167 109.098 7.8 108.298 7.8C107.515 7.8 106.806 7.99167 106.173 8.375C105.556 8.75833 105.065 9.28333 104.698 9.95C104.348 10.6167 104.173 11.375 104.173 12.225C104.173 13.075 104.348 13.8417 104.698 14.525C105.065 15.1917 105.556 15.7167 106.173 16.1C106.806 16.4833 107.515 16.675 108.298 16.675Z" />
            </svg>
        </div>
    </div>
    
    <a href="tel:+44 746 475 1722" class="mainLogoParts relative hidden md:block md:text-[1.25em] text-[#fff]">
        <p>+44 746 475 1722</p>
        <div class="absolute w-full h-[0.1em] bottom-[0.1em] bg-white"></div>
    </a>
    
</div>